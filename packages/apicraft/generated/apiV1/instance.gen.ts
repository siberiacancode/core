// This file is auto-generated by @hey-api/openapi-ts

import type { AxiosRequestParams } from '@siberiacancode/apicraft';

import type {
  GetUserByNameData,
  GetUserByNameResponse,
  UpdateUserData,
  EchoData,
  EchoResponse
} from './types.gen';

import axios, { AxiosInstance, CreateAxiosDefaults } from 'axios';

export type GetUsersRequestParams = AxiosRequestParams<GetUserByNameData>;

export type PutUserByUsernameRequestParams = AxiosRequestParams<UpdateUserData>;

export type PostEchoRequestParams = AxiosRequestParams<EchoData>;

export class ApiInstance {
  private instance: AxiosInstance;
  constructor(config?: CreateAxiosDefaults) {
    this.instance = axios.create(config);
  }
  getUsers({ config, query }: GetUsersRequestParams = {}) {
    return this.instance.request<GetUserByNameResponse>({
      method: 'GET',
      url: '/users',
      params: query,
      ...config
    });
  }
  putUserByUsername({ config, body, query, path }: PutUserByUsernameRequestParams) {
    return this.instance.request({
      method: 'PUT',
      url: `/users/${path.username}`,
      data: body,
      params: query,
      ...config
    });
  }
  postEcho({ config, body }: PostEchoRequestParams) {
    return this.instance.request<EchoResponse>({
      method: 'POST',
      url: '/echo',
      data: body,
      ...config
    });
  }
}

export const instance = new ApiInstance();
